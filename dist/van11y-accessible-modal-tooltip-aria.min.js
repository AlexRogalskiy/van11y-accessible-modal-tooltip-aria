/**
 * van11y-accessible-modal-tooltip-aria - ES2015 accessible modal tooltip system, using ARIA (compatible IE9+ when transpiled)
 * @version v2.0.0
 * @link https://van11y.net/accessible-modal-tooltip/
 * @license MIT : https://github.com/nico3333fr/van11y-accessible-modal-tooltip-aria/blob/master/LICENSE
 */
"use strict";!function(t){function o(t){t.parentNode.removeChild(t)}var e="js-tooltip",i="label_tooltip",l="span",a="container",n="is-active",d="tooltip",s="data-tooltip-prefix-class",r="data-tooltip-text",c="data-tooltip-content-id",u="data-tooltip-title",p="data-tooltip-close-text",m="data-tooltip-close-title",T="data-tooltip-close-img",f="dialog",g="p",b="tooltip__close",v="js-tooltip-close",A="js-tooltip-close",C="data-content-back-id",h="data-focus-back",k="tooltip__content",I="js-tooltip-content",x="tooltip__closeimg",L="modal-close__text",B="tooltip-title",y="tooltip__title",M="a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]",_="js-dialogtooltip",j="js-dialogtooltip",E="role",N="open",P="aria-labelledby",F=function(o){return t.getElementById(o)},H=function(t,o){t.classList?t.classList.add(o):t.className+=" "+o},w=function(t,o){t.classList?t.classList.remove(o):t.className=t.className.replace(new RegExp("(^|\\b)"+o.split(" ").join("|")+"(\\b|$)","gi")," ")},D=function(t,o){return t.classList?t.classList.contains(o):new RegExp("(^| )"+o+"( |$)","gi").test(t.className)},O=function(t,o){t.parentNode.insertBefore(o,t),o.appendChild(t)},S=function(t,o){for(var e=!1,i=t.parentNode;i&&e===!1;)D(i,o)===!0?e=!0:i=i.parentNode;return e===!0?i.getAttribute("id"):""},q=function(t){var o=_,e=t.modalTooltipPrefixClass+d,i=t.modalTooltipPrefixClass+b,l=t.modalTooltipCloseImgPath?'<img src="'+t.modalTooltipCloseImgPath+'" alt="'+t.modalTooltipCloseText+'" class="'+x+'" />':'<span class="'+L+'">\n              '+t.modalTooltipCloseText+"\n             </span>",a=t.modalTooltipPrefixClass+k,n=t.modalTooltipPrefixClass+y,s=""!==t.modalTooltipTitle?'<h1 id="'+B+'" class="'+n+'">\n               '+t.modalTooltipTitle+"\n             </h1>":"",r='<button type="button" class="'+A+" "+i+'" id="'+v+'" title="'+t.modalTooltipCloseTitle+'" '+C+'="'+t.modalTooltipContentId+'" '+h+'="'+t.modalTooltipFocusBackId+'">\n                             '+l+"\n                            </button>",c=t.modalTooltipText;if(""===c&&t.modalTooltipContentId){var u=F(t.modalTooltipContentId);u&&(c='<div id="'+I+'">\n                            '+u.innerHTML+"\n                           </div",u.innerHTML="")}else c="<"+g+">\n                            "+c+"\n                       </"+g+">";return'<dialog id="'+o+'" class="'+e+" "+E+'="'+f+'" '+j+'" '+N+"  "+P+'="'+B+'">\n                  <div role="document">\n                    '+r+'\n                    <div class="'+a+'">\n                      '+s+"\n                      "+c+"\n                    </div>\n                  </div>\n                </dialog>"},R=function(t){if(o(t.modalTooltip),""!==t.contentBackId){var e=F(t.contentBackId);e&&(e.innerHTML=t.modalTooltipContent)}if(t.modalTooltipFocusBackId){var i=F(t.modalTooltipFocusBackId);i&&i.focus()}},$=function(){var o=arguments.length<=0||void 0===arguments[0]?t:arguments[0];return[].slice.call(o.querySelectorAll("."+e))},K=function(o){$(o).forEach(function(o){var e=Math.random().toString(32).slice(2,12),n=o.hasAttribute(s)===!0?o.getAttribute(s)+"-":"";o.setAttribute("id",i+e);var d=t.createElement(l);d.setAttribute("class",n+a),O(o,d)})};["click","keydown"].forEach(function(o){t.body.addEventListener(o,function(t){D(t.target,e)===!0&&"click"===o&&D(t.target,n)===!1&&!function(){var o=t.target,e=o.hasAttribute(s)===!0?o.getAttribute(s)+"-":"",i=o.hasAttribute(r)===!0?o.getAttribute(r):"",l=o.hasAttribute(c)===!0?o.getAttribute(c):"",a=o.hasAttribute(u)===!0?o.getAttribute(u):"",d=o.hasAttribute(p)===!0?o.getAttribute(p):"",f=o.hasAttribute(m)===!0?o.getAttribute(m):d,g=o.hasAttribute(T)===!0?o.getAttribute(T):"",b=F(_);if(b){var A=F(v),k=F(I)?F(I).innerHTML:"",x=A.getAttribute(h),L=F(x),B=A.getAttribute(C);R({modalTooltip:b,modalTooltipContent:k,modalTooltipFocusBackId:x,contentBackId:B}),w(L,n)}setTimeout(function(){o.insertAdjacentHTML("afterend",q({modalTooltipText:i,modalTooltipPrefixClass:e,modalTooltipTitle:a,modalTooltipCloseText:d,modalTooltipCloseTitle:f,modalTooltipCloseImgPath:g,modalTooltipContentId:l,modalTooltipFocusBackId:o.getAttribute("id")}))},50),setTimeout(function(){var t=F(v);t.focus()},51),H(o,n),t.preventDefault()}();var i=S(t.target,A);if((t.target.getAttribute("id")===v||""!==i)&&"click"===o){var l=F(_),a=F(I)?F(I).innerHTML:"",d=F(v),f=d.getAttribute(h),g=F(f),b=d.getAttribute(C);R({modalTooltip:l,modalTooltipContent:a,modalTooltipFocusBackId:f,contentBackId:b,fromId:t.target.getAttribute("id")}),w(g,n),g.focus()}var k=S(t.target,j),x=F(_);if(x&&"click"===o&&t.target.getAttribute("id")!==_&&""===k){var d=F(v);d.click(),D(t.target,n)===!0&&t.preventDefault()}if(x&&"keydown"===o){var a=F(I)?F(I).innerHTML:"",d=F(v),f=d.getAttribute(h),b=d.getAttribute(C),g=F(f),L=[].slice.call(x.querySelectorAll(M));27===t.keyCode&&(R({modalTooltip:x,modalTooltipContent:a,modalTooltipFocusBackId:f,contentBackId:b}),w(g,n),g.focus()),9===t.keyCode&&L.indexOf(t.target)>=0&&(t.shiftKey?t.target===L[0]&&(L[L.length-1].focus(),t.preventDefault()):t.target===L[L.length-1]&&(L[0].focus(),t.preventDefault()))}},!0)});var z=function G(){K(),document.removeEventListener("DOMContentLoaded",G)};document.addEventListener("DOMContentLoaded",z),window.van11yAccessibleModalTooltipAria=K}(document);