/**
 * van11y-accessible-modal-tooltip-aria - ES2015 accessible modal tooltip system, using ARIA (compatible IE9+ when transpiled)
 * @version v1.0.0
 * @link https://van11y.net/accessible-modal-tooltip/
 * @license MIT : https://github.com/nico3333fr/van11y-accessible-modal-tooltip-aria/blob/master/LICENSE
 */
"use strict";!function(t){function o(t){t.parentNode.removeChild(t)}var e="js-tooltip",i="label_tooltip",l="span",a="container",n="is-active",d="tooltip",s="data-tooltip-prefix-class",r="data-tooltip-text",c="data-tooltip-content-id",u="data-tooltip-title",p="data-tooltip-close-text",m="data-tooltip-close-title",T="data-tooltip-close-img",f="dialog",b="p",g="tooltip__close",v="js-tooltip-close",A="js-tooltip-close",C="data-content-back-id",k="data-focus-back",h="tooltip__content",I="js-tooltip-content",x="tooltip__closeimg",L="modal-close__text",B="tooltip-title",y="tooltip__title",_="a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]",j="js-dialogtooltip",E="js-dialogtooltip",M="role",N="open",P="aria-labelledby",F='aria-modal="true"',H=function(o){return t.getElementById(o)},D=function(t,o){t.classList?t.classList.add(o):t.className+=" "+o},w=function(t,o){t.classList?t.classList.remove(o):t.className=t.className.replace(new RegExp("(^|\\b)"+o.split(" ").join("|")+"(\\b|$)","gi")," ")},O=function(t,o){return t.classList?t.classList.contains(o):new RegExp("(^| )"+o+"( |$)","gi").test(t.className)},q=function(t,o){t.parentNode.insertBefore(o,t),o.appendChild(t)},R=function(t,o){for(var e=!1,i=t.parentNode;i&&e===!1;)O(i,o)===!0?e=!0:i=i.parentNode;return e===!0?i.getAttribute("id"):""},S=function(t){var o=j,e=t.modalTooltipPrefixClass+d,i=t.modalTooltipPrefixClass+g,l=t.modalTooltipCloseImgPath?'<img src="'+t.modalTooltipCloseImgPath+'" alt="'+t.modalTooltipCloseText+'" class="'+x+'" />':'<span class="'+L+'">\n                                        '+t.modalTooltipCloseText+"\n                                       </span>",a=t.modalTooltipPrefixClass+h,n=t.modalTooltipPrefixClass+y,s=""!==t.modalTooltipTitle?'<h1 id="'+B+'" class="'+n+'">\n                                        '+t.modalTooltipTitle+"\n                                       </h1>":"",r='<button type="button" class="'+A+" "+i+'" id="'+v+'" title="'+t.modalTooltipCloseTitle+'" '+C+'="'+t.modalTooltipContentId+'" '+k+'="'+t.modalTooltipFocusBackId+'">\n                             '+l+"\n                            </button>",c=t.modalTooltipText;if(""===c&&t.modalTooltipContentId){var u=H(t.modalTooltipContentId);u&&(c='<div id="'+I+'">\n                            '+u.innerHTML+"\n                           </div",u.innerHTML="")}else c="<"+b+">\n                            "+c+"\n                       </"+b+">";return'<dialog id="'+o+'" '+M+'="'+f+'" class="'+e+" "+E+'" '+N+" "+F+" "+P+'="'+B+'">\n                  <div role="document">\n                    '+r+'\n                    <div class="'+a+'">\n                      '+s+"\n                      "+c+"\n                    </div>\n                  </div>\n                </dialog>"},$=function(t){if(o(t.modalTooltip),""!==t.contentBackId){var e=H(t.contentBackId);e&&(e.innerHTML=t.modalTooltipContent)}if(t.modalTooltipFocusBackId){var i=H(t.modalTooltipFocusBackId);i&&i.focus()}},K=function(){return[].slice.call(t.querySelectorAll("."+e))},z=function G(){K().forEach(function(o,e){var n=e+1,d=o.hasAttribute(s)===!0?o.getAttribute(s)+"-":"";o.setAttribute("id",i+n);var r=t.createElement(l);r.setAttribute("class",d+a),q(o,r)}),["click","keydown"].forEach(function(o){t.body.addEventListener(o,function(t){O(t.target,e)===!0&&"click"===o&&O(t.target,n)===!1&&!function(){var o=t.target,e=o.hasAttribute(s)===!0?o.getAttribute(s)+"-":"",i=o.hasAttribute(r)===!0?o.getAttribute(r):"",l=o.hasAttribute(c)===!0?o.getAttribute(c):"",a=o.hasAttribute(u)===!0?o.getAttribute(u):"",d=o.hasAttribute(p)===!0?o.getAttribute(p):"",f=o.hasAttribute(m)===!0?o.getAttribute(m):d,b=o.hasAttribute(T)===!0?o.getAttribute(T):"",g=H(j);if(g){var A=H(v),h=H(I)?H(I).innerHTML:"",x=A.getAttribute(k),L=H(x),B=A.getAttribute(C);$({modalTooltip:g,modalTooltipContent:h,modalTooltipFocusBackId:x,contentBackId:B}),w(L,n)}setTimeout(function(){o.insertAdjacentHTML("afterend",S({modalTooltipText:i,modalTooltipPrefixClass:e,modalTooltipTitle:a,modalTooltipCloseText:d,modalTooltipCloseTitle:f,modalTooltipCloseImgPath:b,modalTooltipContentId:l,modalTooltipFocusBackId:o.getAttribute("id")}))},50),setTimeout(function(){var t=H(v);t.focus()},51),D(o,n),t.preventDefault()}();var i=R(t.target,A);if((t.target.getAttribute("id")===v||""!==i)&&"click"===o){var l=H(j),a=H(I)?H(I).innerHTML:"",d=H(v),f=d.getAttribute(k),b=H(f),g=d.getAttribute(C);$({modalTooltip:l,modalTooltipContent:a,modalTooltipFocusBackId:f,contentBackId:g,fromId:t.target.getAttribute("id")}),w(b,n),b.focus()}var h=R(t.target,E),x=H(j);if(x&&"click"===o&&t.target.getAttribute("id")!==j&&""===h){var d=H(v);d.click(),O(t.target,n)===!0&&t.preventDefault()}if(x&&"keydown"===o){var a=H(I)?H(I).innerHTML:"",d=H(v),f=d.getAttribute(k),g=d.getAttribute(C),b=H(f),L=[].slice.call(x.querySelectorAll(_));27===t.keyCode&&($({modalTooltip:x,modalTooltipContent:a,modalTooltipFocusBackId:f,contentBackId:g}),w(b,n),b.focus()),9===t.keyCode&&L.indexOf(t.target)>=0&&(t.shiftKey?t.target===L[0]&&(L[L.length-1].focus(),t.preventDefault()):t.target===L[L.length-1]&&(L[0].focus(),t.preventDefault()))}},!0)}),document.removeEventListener("DOMContentLoaded",G)};document.addEventListener("DOMContentLoaded",z)}(document);