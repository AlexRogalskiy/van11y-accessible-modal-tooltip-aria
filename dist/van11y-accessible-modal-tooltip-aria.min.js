/**
 * van11y-accessible-modal-tooltip-aria - ES2015 accessible modal tooltip system, using ARIA (compatible IE9+ when transpiled)
 * @version v1.0.1
 * @link https://van11y.net/accessible-modal-tooltip/
 * @license MIT : https://github.com/nico3333fr/van11y-accessible-modal-tooltip-aria/blob/master/LICENSE
 */
"use strict";!function(t){function o(t){t.parentNode.removeChild(t)}var e="js-tooltip",i="label_tooltip",l="span",a="container",n="is-active",d="tooltip",s="data-tooltip-prefix-class",r="data-tooltip-text",c="data-tooltip-content-id",u="data-tooltip-title",p="data-tooltip-close-text",m="data-tooltip-close-title",T="data-tooltip-close-img",f="p",b="tooltip__close",g="js-tooltip-close",v="js-tooltip-close",A="data-content-back-id",C="data-focus-back",k="tooltip__content",h="js-tooltip-content",I="tooltip__closeimg",x="modal-close__text",L="tooltip-title",B="tooltip__title",y="a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]",_="js-dialogtooltip",j="js-dialogtooltip",E="open",M="aria-labelledby",N='aria-modal="true"',P=function(o){return t.getElementById(o)},F=function(t,o){t.classList?t.classList.add(o):t.className+=" "+o},H=function(t,o){t.classList?t.classList.remove(o):t.className=t.className.replace(new RegExp("(^|\\b)"+o.split(" ").join("|")+"(\\b|$)","gi")," ")},D=function(t,o){return t.classList?t.classList.contains(o):new RegExp("(^| )"+o+"( |$)","gi").test(t.className)},w=function(t,o){t.parentNode.insertBefore(o,t),o.appendChild(t)},O=function(t,o){for(var e=!1,i=t.parentNode;i&&e===!1;)D(i,o)===!0?e=!0:i=i.parentNode;return e===!0?i.getAttribute("id"):""},q=function(t){var o=_,e=t.modalTooltipPrefixClass+d,i=t.modalTooltipPrefixClass+b,l=t.modalTooltipCloseImgPath?'<img src="'+t.modalTooltipCloseImgPath+'" alt="'+t.modalTooltipCloseText+'" class="'+I+'" />':'<span class="'+x+'">\n                                        '+t.modalTooltipCloseText+"\n                                       </span>",a=t.modalTooltipPrefixClass+k,n=t.modalTooltipPrefixClass+B,s=""!==t.modalTooltipTitle?'<h1 id="'+L+'" class="'+n+'">\n                                        '+t.modalTooltipTitle+"\n                                       </h1>":"",r='<button type="button" class="'+v+" "+i+'" id="'+g+'" title="'+t.modalTooltipCloseTitle+'" '+A+'="'+t.modalTooltipContentId+'" '+C+'="'+t.modalTooltipFocusBackId+'">\n                             '+l+"\n                            </button>",c=t.modalTooltipText;if(""===c&&t.modalTooltipContentId){var u=P(t.modalTooltipContentId);u&&(c='<div id="'+h+'">\n                            '+u.innerHTML+"\n                           </div",u.innerHTML="")}else c="<"+f+">\n                            "+c+"\n                       </"+f+">";return'<dialog id="'+o+'" class="'+e+" "+j+'" '+E+" "+N+" "+M+'="'+L+'">\n                  <div role="document">\n                    '+r+'\n                    <div class="'+a+'">\n                      '+s+"\n                      "+c+"\n                    </div>\n                  </div>\n                </dialog>"},R=function(t){if(o(t.modalTooltip),""!==t.contentBackId){var e=P(t.contentBackId);e&&(e.innerHTML=t.modalTooltipContent)}if(t.modalTooltipFocusBackId){var i=P(t.modalTooltipFocusBackId);i&&i.focus()}},S=function(){return[].slice.call(t.querySelectorAll("."+e))},$=function K(){S().forEach(function(o,e){var n=e+1,d=o.hasAttribute(s)===!0?o.getAttribute(s)+"-":"";o.setAttribute("id",i+n);var r=t.createElement(l);r.setAttribute("class",d+a),w(o,r)}),["click","keydown"].forEach(function(o){t.body.addEventListener(o,function(t){D(t.target,e)===!0&&"click"===o&&D(t.target,n)===!1&&!function(){var o=t.target,e=o.hasAttribute(s)===!0?o.getAttribute(s)+"-":"",i=o.hasAttribute(r)===!0?o.getAttribute(r):"",l=o.hasAttribute(c)===!0?o.getAttribute(c):"",a=o.hasAttribute(u)===!0?o.getAttribute(u):"",d=o.hasAttribute(p)===!0?o.getAttribute(p):"",f=o.hasAttribute(m)===!0?o.getAttribute(m):d,b=o.hasAttribute(T)===!0?o.getAttribute(T):"",v=P(_);if(v){var k=P(g),I=P(h)?P(h).innerHTML:"",x=k.getAttribute(C),L=P(x),B=k.getAttribute(A);R({modalTooltip:v,modalTooltipContent:I,modalTooltipFocusBackId:x,contentBackId:B}),H(L,n)}setTimeout(function(){o.insertAdjacentHTML("afterend",q({modalTooltipText:i,modalTooltipPrefixClass:e,modalTooltipTitle:a,modalTooltipCloseText:d,modalTooltipCloseTitle:f,modalTooltipCloseImgPath:b,modalTooltipContentId:l,modalTooltipFocusBackId:o.getAttribute("id")}))},50),setTimeout(function(){var t=P(g);t.focus()},51),F(o,n),t.preventDefault()}();var i=O(t.target,v);if((t.target.getAttribute("id")===g||""!==i)&&"click"===o){var l=P(_),a=P(h)?P(h).innerHTML:"",d=P(g),f=d.getAttribute(C),b=P(f),k=d.getAttribute(A);R({modalTooltip:l,modalTooltipContent:a,modalTooltipFocusBackId:f,contentBackId:k,fromId:t.target.getAttribute("id")}),H(b,n),b.focus()}var I=O(t.target,j),x=P(_);if(x&&"click"===o&&t.target.getAttribute("id")!==_&&""===I){var d=P(g);d.click(),D(t.target,n)===!0&&t.preventDefault()}if(x&&"keydown"===o){var a=P(h)?P(h).innerHTML:"",d=P(g),f=d.getAttribute(C),k=d.getAttribute(A),b=P(f),L=[].slice.call(x.querySelectorAll(y));27===t.keyCode&&(R({modalTooltip:x,modalTooltipContent:a,modalTooltipFocusBackId:f,contentBackId:k}),H(b,n),b.focus()),9===t.keyCode&&L.indexOf(t.target)>=0&&(t.shiftKey?t.target===L[0]&&(L[L.length-1].focus(),t.preventDefault()):t.target===L[L.length-1]&&(L[0].focus(),t.preventDefault()))}},!0)}),document.removeEventListener("DOMContentLoaded",K)};document.addEventListener("DOMContentLoaded",$)}(document);